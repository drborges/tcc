\chapter{Rivers: Arquitetura}
\label{cha:rivers_architecture}

TODO - Brief Overview on the main architectural aspects:

\section{Building Blocks}
\label{sec:building_blocks}

TODO

Composition + Rivers Flow: From -> Apply -> Then

\section{Producers}
\label{sec:producers}

TODO ...

\section{Consumers}
\label{sec:consumers}

TODO ...

\section{Transformers}
\label{sec:transformers}

TODO ...

\section{Combiners}
\label{sec:combiners}

TODO ...

\section{Dispatchers}
\label{sec:dispatchers}

TODO ...

\section{Going Parallel}
\label{sec:going_parallel}

TODO ...

Concurrency is not parallelism

Talk about how Rivers achieve parallelism within a pipeline stage

Refer to http://blog.golang.org/concurrency-is-not-parallelism, use the gopher diagrams to make the idea clear

Benchmarks?

\section{The Error Recovering Mechanism}
\label{sec:recovering_mechanism}

TODO

Error scenarios + deadline timeouts

Golang Panic + Recover

Overriding the recovering function

The Debug Mode + Stacktrace

\section{Extending Rivers}
\label{sec:extending_rivers}

TODO

\subsection{Writing Custom Producers}
\label{sec:custom_producers}

TODO

\subsection{Writing Custom Consumers}
\label{sec:custom_consumers}

TODO

\subsection{Writing Custom Combiners}
\label{sec:custom_combiners}

TODO

\subsection{Writing Custom Dispatchers}
\label{sec:custom_dispatchers}

TODO
